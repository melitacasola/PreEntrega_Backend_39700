<h1>Details Products:</h1>
{{#each productId}}
        <h2>{{this.title}}</h2>
        <p>description: {{this.description}}</p>
        <p>Price: {{this.price}}</p>
        <p>Stock: {{this.stock}}</p>
        <p>Category: {{this.category}}</p>
        <p>thumbnails: {{this.thumbnails}}</p>


<div class="containerCard" id="containerCards"></div>
<button id={{this._id}}>Agregar al Carrito</button>
{{/each}}
{{!-- <script defer src="/socket.io/socket.io.js"></script> --}}
{{!-- <script defer src="/js/index.js"></script> --}}

<script>

const btnAgregar = document.getElementById(this._id)
console.log(this._id)
btnAgregar.addEventListener('click', () => addCart(this._id))

const addCart = async (pid) => {
    const carrito = await getCart()
    const cartId = carrito[0]._id
    
    try{
        const addCartProduct = await fetch(`http://localhost:8080/api/carts/${cartId}/products/${pid}`,{
            method: 'PUT'
        })
        alert('Producto agregado al carrito')
    }catch(err){
        console.log(err)
    }

}

</script>